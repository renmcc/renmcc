<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>梦的博客 - 每天进步一点点</title><meta name="keywords" content="renmcc ren_mcc"><meta name="author" content="ren_mcc"><meta name="copyright" content="ren_mcc"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一个收藏回忆与分享技术的地方！">
<meta property="og:type" content="website">
<meta property="og:title" content="梦的博客">
<meta property="og:url" content="https://blog.renm.cc/page/6/index.html">
<meta property="og:site_name" content="梦的博客">
<meta property="og:description" content="一个收藏回忆与分享技术的地方！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.renm.cc/img/avatar2.webp">
<meta property="article:author" content="ren_mcc">
<meta property="article:tag" content="renmcc ren_mcc">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.renm.cc/img/avatar2.webp"><link rel="shortcut icon" href="/img/EPm3X74Wvr.png"><link rel="canonical" href="https://blog.renm.cc/page/6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":2000},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '梦的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-06-25 18:28:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/twikoo-beautify.css"  media="defer" onload="this.media='all'"><script src="/live2d-widget/autoload.js"></script><meta name="referrer" content="no-referrer-when-downgrade" /><link rel="stylesheet" href="/js/function.min.css"><script src="/js/jquery.min.js"></script><script src="/js/custom.js"></script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.css" /><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script async src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar2.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">125</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">梦的博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i><span> 相册</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/20221203/golang-20221203-golang%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" title="golang流程控制"><img class="post_bg" src="/img/yuanshen/avatar/3b292df5e0fe992526321c7ca69673d68db171a3.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang流程控制"></a></div><div class="recent-post-info"><a class="article-title" href="/20221203/golang-20221203-golang%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" title="golang流程控制">golang流程控制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-03T14:48:50.000Z" title="发表于 2022-12-03 22:48:50">2022-12-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-02T17:46:23.594Z" title="更新于 2023-01-03 01:46:23">2023-01-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/golang/">golang</a></span></div><div class="content">if
123if 5 &gt; 9 &#123;    fmt.Println(&quot;5&gt;9&quot;)&#125;

如果逻辑表达式成立，就会执行{}里的内容。
逻辑表达式不需要加()。
&quot;{&quot;必须紧跟在逻辑表达式后面，不能另起一行。

123if c, d, e := 5, 9, 2; c &lt; d &amp;&amp; (c &gt; e || c &gt; 3) &#123; //初始化多个局部变量。复杂的逻辑表达式    fmt.Println(&quot;fit&quot;)&#125;

逻辑表达中可以含有变量或常量。
if句子中允许包含1个(仅1个)分号，在分号前初始化一些局部变量(即只在if块内可见)。

if-else的用法
12345678910color := &quot;black&quot;if color == &quot;red&quot; &#123; //if只能有一个    fmt.Println(&quot;stop&quot;)&#125; else if color == &quot;green&quot ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20221202/golang-20221202-golang%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/" title="golang格式化输出"><img class="post_bg" src="/img/yuanshen/avatar/20210501094033_e11c5.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang格式化输出"></a></div><div class="recent-post-info"><a class="article-title" href="/20221202/golang-20221202-golang%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/" title="golang格式化输出">golang格式化输出</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-12-02T15:41:28.000Z" title="发表于 2022-12-02 23:41:28">2022-12-02</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-02T17:37:03.954Z" title="更新于 2023-01-03 01:37:03">2023-01-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/golang/">golang</a></span></div><div class="content">12345type WebSite struct &#123;	Name string&#125;var site = WebSite&#123;Name: &quot;ren123&quot;&#125;
普通占位符



占位符
说明
举例
输出




%v
相应值的默认格式
fmt.Printf(“site: %v\n”, site)
site: {ren123}


%#v
响应值的Go语法表示
fmt.Printf(“site: %#v\n”, site)
site: main.WebSite{Name:“ren123”}


%T
相应值的类型的Go语法表示
fmt.Printf(“site: %T\n”, site)
site: main.WebSite


%%
字面上的百分号，并非值的占位符
fmt.Printf(“site: %%\n”, site)
site: %



布尔占位符



占位符
说明
举例
输出




%t
单词true或false
fmt.Printf(“b: %t\n”, b)
b: true



整数占位符



占位符
说明
举例
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/20221125/golang-20221125-golang%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="golang数据类型"><img class="post_bg" src="/img/yuanshen/avatar/10007.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang数据类型"></a></div><div class="recent-post-info"><a class="article-title" href="/20221125/golang-20221125-golang%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="golang数据类型">golang数据类型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-25T15:02:31.000Z" title="发表于 2022-11-25 23:02:31">2022-11-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-02T17:36:19.582Z" title="更新于 2023-01-03 01:36:19">2023-01-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/golang/">golang</a></span></div><div class="content">数据类型概览
基础数据类型



类型
长度(字节)
默认值
说明




bool
1
false



byte
1
0
uint8，取值范围[0,255]


rune
4
0
Unicode Code Point, int32


int, uint
4或8
0
32 或 64 位，取决于操作系统


int8, uint8
1
0
-128 ~ 127, 0 ~ 255


int16, uint16
2
0
-32768 ~ 32767, 0 ~ 65535


int32, uint32
4
0
-21亿~ 21亿, 0 ~ 42亿，rune是int32 的别名


int64, uint64
8
0



float32
4
0.0



float64
8
0.0



complex64
8




complex128
16




uintptr
4或8

以存储指针的 uint32 或 uint64 整数



123456789101112131415161718192021222324252627282930313233343536373839fmt.Pr ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20221125/golang-20221125-golang%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" title="golang基础语法"><img class="post_bg" src="/img/yuanshen/avatar/10003.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang基础语法"></a></div><div class="recent-post-info"><a class="article-title" href="/20221125/golang-20221125-golang%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/" title="golang基础语法">golang基础语法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-25T06:32:23.000Z" title="发表于 2022-11-25 14:32:23">2022-11-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-02T17:35:28.089Z" title="更新于 2023-01-03 01:35:28">2023-01-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/golang/">golang</a></span></div><div class="content">标识符与关键字
  go变量、常量、自定义类型、包、函数的命名方式必须遵循以下规则：

首字符可以是任意Unicode字符或下划线。
首字符之外的部分可以是Unicode字符、下划线或数字。
名字的长度无限制。


理论上名字里可以有汉字，甚至可以全是汉字，但实际中不要这么做。

Go语言关键字
1break  default  func  interface  select  case  defer  go  map  struct  chan  else  goto  package  switch  const  if  range  type  continue  for  import  return  fallthrough  var
常量
1true  false  iota  nil   
数据类型
1int  int8  int16  int32  int64  uint  uint8  uint16  uint32  uint64  uintptr  float32  float64  complex128  complex64  bool  byte  rune  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/20221125/golang-20221125-golang%E7%AE%80%E4%BB%8B/" title="golang简介"><img class="post_bg" src="/img/yuanshen/avatar/2c974aa16d114598bf08e3f439499d55!400x400.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="golang简介"></a></div><div class="recent-post-info"><a class="article-title" href="/20221125/golang-20221125-golang%E7%AE%80%E4%BB%8B/" title="golang简介">golang简介</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-25T06:04:30.000Z" title="发表于 2022-11-25 14:04:30">2022-11-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-01-02T17:34:30.736Z" title="更新于 2023-01-03 01:34:30">2023-01-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/golang/">golang</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/golang/">golang</a></span></div><div class="content">Go语言发展历史
阵容豪华的创使人团队
Ken Thompson

1966年：加入了贝尔实验室，在参与 Multics （多路信息计算）开发期间，创造出了B语言，并用一个月的时间用B语言开发了全新的操作系统UNICS，后来改名为我们所熟悉的UNIX 操作系统。
1971年：和丹尼斯·利奇（Dennis Ritchie）一起共同发明了C语言。
1973年：和丹尼斯·利奇（Dennis Ritchie）使用C语言重写了UNIX，并安装于PDP-11的机器之上。
1983年：美国计算机协会将图灵奖授予汤普森。
2000年：离开贝尔实验室，已退休的汤普森成为了一名飞行员。
2006年：加入Google工作。
2007年：64岁的高龄，与Rob Pike和Robert Griesemer主导了Go语言的开发。

Rob Pike

Go语言项目总负责人。
贝尔实验室Unix团队成员，参与的项目包括Plan 9，Inferno操作系统和Limbo编程语言。
UTF-8字符集规范唯二的发明人之一（另一位是Ken Thompson）。
《UNIX环境编程》和《程序设计实践》这两本书的作者之一。
第2 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20221031/nginx-20221031-nginx/" title="nginx"><img class="post_bg" src="/img/yuanshen/avatar/4bed2e738bd4b31cbc0da96e25e80a769f2ff8fd.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nginx"></a></div><div class="recent-post-info"><a class="article-title" href="/20221031/nginx-20221031-nginx/" title="nginx">nginx</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-31T15:46:50.000Z" title="发表于 2022-10-31 23:46:50">2022-10-31</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-31T15:51:54.305Z" title="更新于 2022-10-31 23:51:54">2022-10-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/nginx/">nginx</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/nginx/">nginx</a></span></div><div class="content">一、Nginx 简介
什么是 Nginx?
Nginx (engine x) 是一款轻量级的 Web 服务器 、反向代理服务器及电子邮件（IMAP/POP3）代理服务器。

什么是反向代理？
反向代理（Reverse Proxy）方式是指以代理服务器来接受 internet 上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给 internet 上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

二、Nginx 入门

详细安装方法请参考：Nginx 运维
nginx 的使用比较简单，就是几条命令。

常用到的命令如下：
12345678nginx -s stop       快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。nginx -s quit       平稳关闭Nginx，保存相关信息，有安排的结束web服务。nginx -s reload     因改变了Nginx相关配置，需要重新加载配置而重载。nginx -s reopen     重新打开日志文件。nginx -c filename   为 Nginx 指定 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/20221029/redis-20221029-Redis%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85/" title="Redis概述安装"><img class="post_bg" src="/img/yuanshen/avatar/128763_7576398147.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis概述安装"></a></div><div class="recent-post-info"><a class="article-title" href="/20221029/redis-20221029-Redis%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85/" title="Redis概述安装">Redis概述安装</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-29T14:37:10.000Z" title="发表于 2022-10-29 22:37:10">2022-10-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-25T05:35:52.826Z" title="更新于 2022-11-25 13:35:52">2022-11-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/redis/">redis</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/redis/">redis</a></span></div><div class="content">1. 概述
Redis是一个开源的key-value存储系统
和Memcached类似，它支持存储的value类型相对更多，包括string（字符串）、list（链表）、set（集合）、zset（sorted set --有序集合）和hash（哈希类型）
这些数据类型都支持push/pop、add/remove及取交集并集和差集及更丰富的操作，而且这些操作都是原子性的。
在此基础上，为了保证效率，数据都是缓存在内存中。
区别的时Redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件。
并且在此基础上实现了master-slave(主从)同步。
2. 应用场景
2.1 配合关系型数据库做高速缓存

高频次，热门访问的数据，降低数据库IO
分布式架构，做session共享


2.2 多样的数据结构存储持久化数据

3. Redis相关知识

Redis是单线程+多路IO复用技术
多路复用是指使用一个线程来检查多个文件描述符（Socket）的就绪状态，比如调用select和poll函数，传入多个文件描述符，如果有一个文件描述符就绪，则返回，否则阻塞直到超时。得到就绪状态后 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20221028/redis-20221028-NoSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E4%BB%8B/" title="NoSQL数据库简介"><img class="post_bg" src="/img/yuanshen/avatar/8f16e2511e864f01955f9659b351ee21!400x400.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NoSQL数据库简介"></a></div><div class="recent-post-info"><a class="article-title" href="/20221028/redis-20221028-NoSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E4%BB%8B/" title="NoSQL数据库简介">NoSQL数据库简介</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-27T16:31:35.000Z" title="发表于 2022-10-28 00:31:35">2022-10-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-25T05:35:46.210Z" title="更新于 2022-11-25 13:35:46">2022-11-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/redis/">redis</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/redis/">redis</a></span></div><div class="content">1. 技术发展

解决功能性问题：Java、Jsp、RDBMS、Tomcat、HTML、Linux、JDBC、SVN
解决扩展性问题：Struts、Spring、SpringMVC、Hibernate、Mybatis
解决性能的问题：NoSQL、Java线程、Hadoop、Nginx、MQ、ElasticSearch

1.1 Web1.0时代
Web1.0的时代，数据访问量很有限、用一夫当关的高性能的单点服务器可以解决大部分问题。

1.2 Web2.0时代
随着Web2.0时代的到来，用户访问量大幅度提升，同时产生了大量的用户数据。加上后来的智能移动设备普及，所有的互联网平台都面临了巨大的性能挑战。

1.3 解决CPU及内存压力

1.4 解决IO压力

2. NoSQL数据库概述
NoSQL(NoSQL = Not Only SQL)，意即“不仅仅是SQL”，泛指非关系型的数据库。
NoSQL不依赖业务逻辑方式存储，而以简单的key-value模式存储。因此大大的增加了数据库的扩展能力。

不遵循SQL标准。
不支持ACID
远超于SQL的性能

3. 适用场景

对数据高并发 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/20221023/kafka-20221023-kafka%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" title="kafka安装部署"><img class="post_bg" src="/img/yuanshen/avatar/bf096b63f6246b60841dc6d1f61c7845500fa275.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="kafka安装部署"></a></div><div class="recent-post-info"><a class="article-title" href="/20221023/kafka-20221023-kafka%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/" title="kafka安装部署">kafka安装部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-23T12:50:34.000Z" title="发表于 2022-10-23 20:50:34">2022-10-23</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-25T15:16:47.226Z" title="更新于 2022-10-25 23:16:47">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kafka/">kafka</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/kafka/">kafka</a></span></div><div class="content">1. 集群规划



hadoop101
hadoop102
hadoop103




zk
zk
zk


kafka
kafka
kafka



2. 集群部署
官方下载地址：http://kafka.apache.org/downloads.html
2.1 解压安装包
1mkdir /opt/module &amp;&amp; tar xf kafka_2.12-3.0.0.tgz -C /opt/module/
2.2 修改解压后的文件名称
1
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/20221023/kafka-20221023-Kafka%E6%A6%82%E8%BF%B0/" title="Kafka概述"><img class="post_bg" src="/img/yuanshen/avatar/2c28f19a6ca7404cbfba5e20e01dd898.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka概述"></a></div><div class="recent-post-info"><a class="article-title" href="/20221023/kafka-20221023-Kafka%E6%A6%82%E8%BF%B0/" title="Kafka概述">Kafka概述</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-23T08:08:01.000Z" title="发表于 2022-10-23 16:08:01">2022-10-23</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-23T09:04:52.595Z" title="更新于 2022-10-23 17:04:52">2022-10-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/kafka/">kafka</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/kafka/">kafka</a></span></div><div class="content">1. 定义
Kafka传统定义： Kafka是一个分布式的基于发布/订阅模式的消息队列（MessageQueue），主要应用于大数据实时处理领域。
发布/订阅： 消息的发布者不会将消息直接发送给特定的订阅者，而是将发布的消息分为不同的类别，订阅者只接收感兴趣的消息。
kafka最新定义： Kafka是一个开源的分布式事件流平台（Event Streaming Platform），被数千家公司用于高性能数据管道、流分析、数据集成和关键任务应用。

2. 消息队列
目前企业中比较常见的消息队列产品主要有 Kafka、ActiveMQ、RabbitMQ、RocketMQ等。
在大数据场景主要采用Kafka作为消息队列。在JavaEE开发中主要采用ActiveMQ、RabbitMQ、RocketMQ。
2.1 传统消息队列的应用场景
传统的消息队列的主要应用场景包括：缓存/消峰、解耦和异步通信。
2.1.1 缓存/消峰
有助于控制和优化数据流经过系统的速度，解决生产消息和消费消息的处理速度不一致的情况。

2.1.2 解耦
允许你独立的扩展或修改两边的处理过程，只要确保它们遵守同样的接口约束
 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><a class="extend next" rel="next" href="/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar2.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ren_mcc</div><div class="author-info__description">一个收藏回忆与分享技术的地方！</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">125</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/renmcc"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-ip"><div class="card-content"></div><div class="item-headline"><i class="fa fa-user" aria-hidden="true"></i><span>当前访问用户</span></div><div class="ip_content">欢迎来自 <span class="p red">未知区域</span> 的小伙伴<b></b>访问IP为： <span class="p cyan">未知IP</span><b></b>浏览器版本：<span class="p blue">未知浏览器</span></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/20230625/python-20230625-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/" title="可迭代对象和内建函数"><img src="/img/yuanshen/avatar/128860_43586076260.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="可迭代对象和内建函数"/></a><div class="content"><a class="title" href="/20230625/python-20230625-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/" title="可迭代对象和内建函数">可迭代对象和内建函数</a><time datetime="2023-06-25T10:21:05.000Z" title="发表于 2023-06-25 18:21:05">2023-06-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20230625/python-20230625-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0/" title="递归函数"><img src="/img/yuanshen/avatar/42f268bdcc7059cc27fd69a639c7c6f0253fe1c4.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="递归函数"/></a><div class="content"><a class="title" href="/20230625/python-20230625-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0/" title="递归函数">递归函数</a><time datetime="2023-06-25T10:02:29.000Z" title="发表于 2023-06-25 18:02:29">2023-06-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20230625/python-20230625-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E3%80%81%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0/" title="匿名函数、生成器函数"><img src="/img/yuanshen/avatar/10007.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="匿名函数、生成器函数"/></a><div class="content"><a class="title" href="/20230625/python-20230625-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E3%80%81%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0/" title="匿名函数、生成器函数">匿名函数、生成器函数</a><time datetime="2023-06-25T09:29:40.000Z" title="发表于 2023-06-25 17:29:40">2023-06-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20230624/python-20230624-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F/" title="函数作用域"><img src="/img/yuanshen/avatar/128170_111705817.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="函数作用域"/></a><div class="content"><a class="title" href="/20230624/python-20230624-%E5%87%BD%E6%95%B0%E4%BD%9C%E7%94%A8%E5%9F%9F/" title="函数作用域">函数作用域</a><time datetime="2023-06-23T16:29:51.000Z" title="发表于 2023-06-24 00:29:51">2023-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/20230623/python-20230623-%E5%87%BD%E6%95%B0/" title="函数"><img src="/img/yuanshen/avatar/10005.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="函数"/></a><div class="content"><a class="title" href="/20230623/python-20230623-%E5%87%BD%E6%95%B0/" title="函数">函数</a><time datetime="2023-06-23T13:31:09.000Z" title="发表于 2023-06-23 21:31:09">2023-06-23</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/"><span class="card-category-list-name">JavaScript</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/containerd/"><span class="card-category-list-name">containerd</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/docker/"><span class="card-category-list-name">docker</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/docker-compose/"><span class="card-category-list-name">docker-compose</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/git/"><span class="card-category-list-name">git</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/golang/"><span class="card-category-list-name">golang</span><span class="card-category-list-count">38</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/istio/"><span class="card-category-list-name">istio</span><span class="card-category-list-count">8</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/kafka/"><span class="card-category-list-name">kafka</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/containerd/" style="font-size: 1.3em; color: rgb(84, 115, 159)">containerd</a><a href="/tags/JavaScript/" style="font-size: 1.15em; color: rgb(24, 194, 172)">JavaScript</a><a href="/tags/docker/" style="font-size: 1.36em; color: rgb(156, 10, 141)">docker</a><a href="/tags/kafka/" style="font-size: 1.18em; color: rgb(126, 2, 28)">kafka</a><a href="/tags/git/" style="font-size: 1.15em; color: rgb(96, 196, 22)">git</a><a href="/tags/kubernetes/" style="font-size: 1.42em; color: rgb(129, 81, 194)">kubernetes</a><a href="/tags/kvm/" style="font-size: 1.24em; color: rgb(59, 125, 103)">kvm</a><a href="/tags/python/" style="font-size: 1.39em; color: rgb(10, 179, 38)">python</a><a href="/tags/rancher/" style="font-size: 1.21em; color: rgb(135, 166, 128)">rancher</a><a href="/tags/nginx/" style="font-size: 1.15em; color: rgb(66, 192, 195)">nginx</a><a href="/tags/redis/" style="font-size: 1.18em; color: rgb(101, 188, 67)">redis</a><a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 1.15em; color: rgb(7, 145, 92)">工具</a><a href="/tags/vue/" style="font-size: 1.27em; color: rgb(108, 87, 141)">vue</a><a href="/tags/golang/" style="font-size: 1.45em; color: rgb(59, 198, 115)">golang</a><a href="/tags/docker-compose/" style="font-size: 1.27em; color: rgb(23, 101, 113)">docker-compose</a><a href="/tags/istio/" style="font-size: 1.36em; color: rgb(81, 40, 90)">istio</a><a href="/tags/kubrnetes/" style="font-size: 1.33em; color: rgb(162, 158, 29)">kubrnetes</a><a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 1.21em; color: rgb(67, 48, 12)">大数据</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">25</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">11</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">125</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-12-06T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">246.8k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-06-25T10:28:32.079Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By ren_mcc</div><div class="footer_custom_text"><a rel="noopener external nofollow noreferrer noopener" target="_blank" href="https://beian.miit.gov.cn/"> <img class="icp-icon entered loading" alt="ICP" src="/img/icp.png" data-ll-status><span>京ICP备2022001205号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="7211977673" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="list" data-preload="none" data-autoplay="false" muted></div><script src="https://ifconfig.io/all.js"></script><script src="/js/ip_content.js"></script><script src="https://www.clustrmaps.com/map_v2.png?d=Nn9bjjl1Wty5ejFU6wND1o3jH3o6isyJnZx5HWTAxCU&cl=ffffff"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["link[rel=\"canonical\"]","meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_clock_injector_config(){
    var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
    var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img class="entered loading" id="card-clock-loading" src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading"/></div></div></div></div></div>';
    console.log('已挂载butterfly_clock')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_clock_injector_config();
  }
  else if (epage === cpage){
    butterfly_clock_injector_config();
  }
  </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax src="https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>